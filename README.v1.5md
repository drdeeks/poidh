     1â†’# Autonomous Bounty Bot for POIDH
     2â†’
     3â†’A fully autonomous bounty agent that creates, monitors, evaluates, and pays out real-world proof bounties on the [poidh](https://poidh.xyz) platform with **zero human intervention**.
     4â†’
     5â†’## Task Requirements Checklist
     6â†’
     7â†’| Requirement | Status | Implementation |
     8â†’|-------------|--------|----------------|
     9â†’| âœ… 100% Open Source | **Complete** | MIT License, public repo |
    10â†’| âœ… Bot Controls Own Wallet | **Complete** | `src/wallet/index.ts` - Bot generates and manages its own private key |
    11â†’| âœ… Creates POIDH Bounties | **Complete** | `src/contracts/poidh.ts` - Creates solo bounties on POIDH V3 |
    12â†’| âœ… Real-World Action Bounties | **Complete** | Photos, videos, physical tasks with EXIF validation |
    13â†’| âœ… Monitors Submissions | **Complete** | `src/bounty/monitor.ts` - Polls blockchain for claims |
    14â†’| âœ… Autonomous Winner Selection | **Complete** | First-valid (deterministic) or GPT-4 Vision (AI-judged) |
    15â†’| âœ… Clear Selection Logic | **Complete** | Transparent rationale logged for every decision |
    16â†’| âœ… Autonomous Payout | **Complete** | `bountyManager.completeBounty()` triggers on-chain payment |
    17â†’| âœ… Working Demo | **Complete** | `npm run demo:simulate` and production bounty configs |
    18â†’
    19â†’## How It Works
    20â†’
    21â†’```
    22â†’â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    23â†’â•‘                      AUTONOMOUS BOUNTY BOT FLOW                              â•‘
    24â†’â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
    25â†’â•‘                                                                              â•‘
    26â†’â•‘   1. CREATE          2. MONITOR         3. EVALUATE        4. PAYOUT        â•‘
    27â†’â•‘   â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€         â•‘
    28â†’â•‘   Bot creates        Bot polls          Bot validates      Bot accepts      â•‘
    29â†’â•‘   bounty on-chain    for new claims     each submission    winning claim    â•‘
    30â†’â•‘   with ETH reward    from blockchain    autonomously       â†’ ETH sent!      â•‘
    31â†’â•‘                                                                              â•‘
    32â†’â•‘                    NO HUMAN INTERVENTION REQUIRED                            â•‘
    33â†’â•‘                                                                              â•‘
    34â†’â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    35â†’```
    36â†’
    37â†’### Winner Selection Modes
    38â†’
    39â†’**FIRST_VALID** - First submission that passes all validation checks wins immediately:
    40â†’- Deterministic rules (EXIF, freshness, location, keywords)
    41â†’- No waiting for deadline
    42â†’- Instant payout on valid submission
    43â†’
    44â†’**AI_JUDGED** - GPT-4 Vision evaluates all submissions after deadline:
    45â†’- Collects submissions until deadline
    46â†’- AI scores each based on creativity/quality criteria
    47â†’- Best submission wins with detailed rationale
    48â†’
    49â†’## Quick Start
    50â†’
    51â†’### 1. Clone and Install
    52â†’
    53â†’```bash
    54â†’git clone https://github.com/YOUR_USERNAME/autonomous-bounty-bot.git
    55â†’cd autonomous-bounty-bot
    56â†’npm install
    57â†’cp .env.example .env
    58â†’```
    59â†’
    60â†’### 2. Configure Environment
    61â†’
    62â†’Edit your `.env` file:
    63â†’
    64â†’```bash
    65â†’# Required: Your wallet's private key (with 0x prefix)
    66â†’PRIVATE_KEY=0xYourPrivateKeyHere
    67â†’
    68â†’# Required: Base Mainnet RPC URL
    69â†’RPC_URL=https://mainnet.base.org
    70â†’
    71â†’# Required: OpenAI API key for AI judging
    72â†’OPENAI_API_KEY=sk-your-openai-api-key
    73â†’```
    74â†’
    75â†’### 3. Fund Your Wallet
    76â†’
    77â†’Send Base ETH to your bot's wallet address for gas fees and bounty rewards.
    78â†’
    79â†’### 4. Build the Project
    80â†’
    81â†’```bash
    82â†’npm run build
    83â†’```
    84â†’
    85â†’### 5. Run the Bot
    86â†’
    87â†’```bash
    88â†’# Run a specific production bounty
    89â†’npm run agent:outside
    90â†’
    91â†’# Or run with custom bounty type
    92â†’npx ts-node src/agent.ts proveOutside
    93â†’```
    94â†’
    95â†’---
    96â†’
    97â†’## ğŸ“ Viewing Your Bounty on POIDH
    98â†’
    99â†’Once the bot creates a bounty on-chain, it will appear on the POIDH website:
   100â†’
   101â†’```
   102â†’https://poidh.xyz/base/bounty/[BOUNTY_ID]
   103â†’```
   104â†’
   105â†’The console will log the bounty ID and direct link when created. Anyone can then submit proofs through the POIDH website, and the bot will automatically monitor and evaluate them.
   106â†’
   107â†’---
   108â†’
   109â†’## ğŸ›ï¸ Complete Customization Guide
   110â†’
   111â†’### Creating Custom Bounties
   112â†’
   113â†’Edit `src/bounty/configs/production-bounties.ts` to add your own bounties:
   114â†’
   115â†’```typescript
   116â†’import { BountyConfig, SelectionMode, ProofType } from '../types';
   117â†’
   118â†’// Helper function for deadlines
   119â†’function deadlineFromNow(hours: number): number {
   120â†’  return Math.floor(Date.now() / 1000) + hours * 60 * 60;
   121â†’}
   122â†’
   123â†’export const PRODUCTION_BOUNTIES: Record<string, BountyConfig> = {
   124â†’  // Add your custom bounty here
   125â†’  'myCustomBounty': {
   126â†’    id: 'my-custom-bounty',
   127â†’    name: 'ğŸ¯ My Custom Challenge',
   128â†’    description: 'What participants will see as the main description',
   129â†’    requirements: `
   130â†’      Detailed requirements:
   131â†’      1. First requirement
   132â†’      2. Second requirement
   133â†’      3. Third requirement
   134â†’    `.trim(),
   135â†’    proofType: ProofType.PHOTO,
   136â†’    selectionMode: SelectionMode.FIRST_VALID,
   137â†’    rewardEth: '0.005',
   138â†’    deadline: deadlineFromNow(24),
   139â†’    validation: {
   140â†’      requireExif: true,
   141â†’      maxAgeMinutes: 60,
   142â†’      rejectScreenshots: true,
   143â†’      rejectAIGenerated: true,
   144â†’      aiValidationPrompt: 'Instructions for AI validation...',
   145â†’    },
   146â†’    tags: ['custom'],
   147â†’  },
   148â†’};
   149â†’```
   150â†’
   151â†’Then add a script to `package.json`:
   152â†’
   153â†’```json
   154â†’{
   155â†’  "scripts": {
   156â†’    "agent:my-custom": "npx ts-node src/agent.ts myCustomBounty"
   157â†’  }
   158â†’}
   159â†’```
   160â†’
   161â†’Run it:
   162â†’
   163â†’```bash
   164â†’npm run agent:my-custom
   165â†’```
   166â†’
   167â†’---
   168â†’
   169â†’## â° Deadline Configuration
   170â†’
   171â†’Control how long your bounty runs:
   172â†’
   173â†’```typescript
   174â†’// Helper function (already in templates.ts)
   175â†’function deadlineFromNow(hours: number): number {
   176â†’  return Math.floor(Date.now() / 1000) + hours * 60 * 60;
   177â†’}
   178â†’
   179â†’// Examples:
   180â†’deadline: deadlineFromNow(1),     // 1 hour
   181â†’deadline: deadlineFromNow(6),     // 6 hours
   182â†’deadline: deadlineFromNow(24),    // 24 hours (1 day)
   183â†’deadline: deadlineFromNow(48),    // 48 hours (2 days)
   184â†’deadline: deadlineFromNow(168),   // 168 hours (1 week)
   185â†’deadline: deadlineFromNow(720),   // 720 hours (30 days)
   186â†’
   187â†’// Specific date/time:
   188â†’deadline: Math.floor(new Date('2025-02-15T18:00:00Z').getTime() / 1000),
   189â†’
   190â†’// Dynamic (end of today):
   191â†’deadline: Math.floor(new Date().setHours(23, 59, 59, 999) / 1000),
   192â†’```
   193â†’
   194â†’---
   195â†’
   196â†’## ğŸ’° Reward Configuration
   197â†’
   198â†’Set bounty rewards in ETH:
   199â†’
   200â†’```typescript
   201â†’// Small bounties (testing/demos)
   202â†’rewardEth: '0.001',   // ~$2-3 USD
   203â†’rewardEth: '0.002',   // ~$5 USD
   204â†’rewardEth: '0.005',   // ~$12 USD
   205â†’
   206â†’// Medium bounties
   207â†’rewardEth: '0.01',    // ~$25 USD
   208â†’rewardEth: '0.02',    // ~$50 USD
   209â†’rewardEth: '0.05',    // ~$125 USD
   210â†’
   211â†’// Larger bounties
   212â†’rewardEth: '0.1',     // ~$250 USD
   213â†’rewardEth: '0.5',     // ~$1,250 USD
   214â†’rewardEth: '1.0',     // ~$2,500 USD
   215â†’```
   216â†’
   217â†’> **Note**: Prices based on ~$2,500/ETH. Your wallet must have enough ETH for the reward + gas fees.
   218â†’
   219â†’---
   220â†’
   221â†’## ğŸ† Selection Mode Configuration
   222â†’
   223â†’### FIRST_VALID (Instant Winner)
   224â†’
   225â†’First submission that passes ALL validation checks wins immediately. No waiting for deadline.
   226â†’
   227â†’```typescript
   228â†’selectionMode: SelectionMode.FIRST_VALID,
   229â†’```
   230â†’
   231â†’**Best for:**
   232â†’- Time-sensitive challenges ("prove you're outside RIGHT NOW")
   233â†’- Simple binary tasks (handwritten note, location check-in)
   234â†’- When you want fast turnaround
   235â†’
   236â†’**How it works:**
   237â†’1. Submission arrives
   238â†’2. Bot runs validation checks (EXIF, freshness, screenshots, etc.)
   239â†’3. If ALL checks pass â†’ Winner! Payout triggered immediately
   240â†’4. If checks fail â†’ Rejected, bot continues monitoring
   241â†’
   242â†’### AI_JUDGED (Best Submission Wins)
   243â†’
   244â†’Bot collects all submissions until deadline, then GPT-4 Vision evaluates and picks the best one.
   245â†’
   246â†’```typescript
   247â†’selectionMode: SelectionMode.AI_JUDGED,
   248â†’```
   249â†’
   250â†’**Best for:**
   251â†’- Creative challenges (best photo, most creative, etc.)
   252â†’- Competitions where quality matters
   253â†’- Subjective criteria that need AI judgment
   254â†’
   255â†’**How it works:**
   256â†’1. Submissions collected until deadline
   257â†’2. After deadline, bot filters valid submissions
   258â†’3. GPT-4 Vision analyzes each image
   259â†’4. AI scores based on your criteria (0-100)
   260â†’5. Highest score wins with detailed rationale
   261â†’6. Payout triggered automatically
   262â†’
   263â†’---
   264â†’
   265â†’## âœ… Validation Criteria Configuration
   266â†’
   267â†’The `validation` object controls what makes a submission valid:
   268â†’
   269â†’### EXIF Metadata Validation
   270â†’
   271â†’```typescript
   272â†’validation: {
   273â†’  // Require valid EXIF data (camera metadata)
   274â†’  requireExif: true,
   275â†’
   276â†’  // Photo must be taken within last N minutes
   277â†’  maxAgeMinutes: 30,    // 30 minutes
   278â†’  maxAgeMinutes: 60,    // 1 hour
   279â†’  maxAgeMinutes: 1440,  // 24 hours
   280â†’}
   281â†’```
   282â†’
   283â†’### Screenshot & AI Detection
   284â†’
   285â†’```typescript
   286â†’validation: {
   287â†’  // Reject screenshots (photos of screens)
   288â†’  rejectScreenshots: true,
   289â†’
   290â†’  // Reject AI-generated images (DALL-E, Midjourney, etc.)
   291â†’  rejectAIGenerated: true,
   292â†’}
   293â†’```
   294â†’
   295â†’### Location Requirements
   296â†’
   297â†’```typescript
   298â†’validation: {
   299â†’  location: {
   300â†’    latitude: 40.7128,      // NYC latitude
   301â†’    longitude: -74.0060,    // NYC longitude
   302â†’    radiusMeters: 500,      // Within 500 meters
   303â†’    description: 'New York City, Times Square area',
   304â†’  },
   305â†’}
   306â†’```
   307â†’
   308â†’**Common locations:**
   309â†’
   310â†’```typescript
   311â†’// Times Square, NYC
   312â†’location: { latitude: 40.7580, longitude: -73.9855, radiusMeters: 200, description: 'Times Square' }
   313â†’
   314â†’// Eiffel Tower, Paris
   315â†’location: { latitude: 48.8584, longitude: 2.2945, radiusMeters: 300, description: 'Eiffel Tower' }
   316â†’
   317â†’// Golden Gate Bridge, SF
   318â†’location: { latitude: 37.8199, longitude: -122.4783, radiusMeters: 500, description: 'Golden Gate Bridge' }
   319â†’
   320â†’// Central Park, NYC
   321â†’location: { latitude: 40.7829, longitude: -73.9654, radiusMeters: 1000, description: 'Central Park' }
   322â†’```
   323â†’
   324â†’### Time Window Requirements
   325â†’
   326â†’```typescript
   327â†’validation: {
   328â†’  timeWindow: {
   329â†’    // Only accept photos taken during this window
   330â†’    startTimestamp: Math.floor(new Date('2025-02-01T08:00:00Z').getTime() / 1000),
   331â†’    endTimestamp: Math.floor(new Date('2025-02-01T20:00:00Z').getTime() / 1000),
   332â†’  },
   333â†’}
   334â†’```
   335â†’
   336â†’### AI Validation Prompt
   337â†’
   338â†’Custom instructions for GPT-4 Vision when validating submissions:
   339â†’
   340â†’```typescript
   341â†’validation: {
   342â†’  aiValidationPrompt: `
   343â†’    Evaluate this submission for the "Best Sunset Photo" bounty.
   344â†’
   345â†’    Score on these criteria (total 100 points):
   346â†’    1. COLOR COMPOSITION (0-40): Richness of colors, gradient quality
   347â†’    2. OVERALL BEAUTY (0-35): Aesthetic appeal, emotional impact
   348â†’    3. TECHNICAL QUALITY (0-25): Sharpness, exposure, framing
   349â†’
   350â†’    Disqualify (score 0) if:
   351â†’    - Image appears AI-generated
   352â†’    - No visible sunset/sky
   353â†’    - Heavy filters or manipulation
   354â†’
   355â†’    Respond with JSON: { score, isValid, confidence, reasoning }
   356â†’  `.trim(),
   357â†’
   358â†’  // Minimum AI confidence to accept (0-100)
   359â†’  minAIConfidence: 70,
   360â†’}
   361â†’```
   362â†’
   363â†’### Combining Multiple Criteria
   364â†’
   365â†’```typescript
   366â†’validation: {
   367â†’  // All of these must pass
   368â†’  requireExif: true,
   369â†’  maxAgeMinutes: 60,
   370â†’  rejectScreenshots: true,
   371â†’  rejectAIGenerated: true,
   372â†’  minAIConfidence: 75,
   373â†’
   374â†’  // Optional location requirement
   375â†’  location: {
   376â†’    latitude: 40.7128,
   377â†’    longitude: -74.0060,
   378â†’    radiusMeters: 1000,
   379â†’    description: 'Manhattan, NYC',
   380â†’  },
   381â†’
   382â†’  // Custom AI instructions
   383â†’  aiValidationPrompt: `
   384â†’    Verify this photo shows the NYC skyline.
   385â†’    Must include recognizable buildings.
   386â†’    Reject if taken from indoors.
   387â†’  `.trim(),
   388â†’}
   389â†’```
   390â†’
   391â†’---
   392â†’
   393â†’## ğŸ“¸ Proof Type Configuration
   394â†’
   395â†’```typescript
   396â†’// Photo proof (most common)
   397â†’proofType: ProofType.PHOTO,
   398â†’
   399â†’// Video proof
   400â†’proofType: ProofType.VIDEO,
   401â†’
   402â†’// Text-based proof
   403â†’proofType: ProofType.TEXT,
   404â†’
   405â†’// Any type accepted
   406â†’proofType: ProofType.ANY,
   407â†’```
   408â†’
   409â†’---
   410â†’
   411â†’## ğŸ·ï¸ Tags Configuration
   412â†’
   413â†’Tags help categorize and filter bounties:
   414â†’
   415â†’```typescript
   416â†’tags: ['photography', 'outdoors', 'nature'],
   417â†’tags: ['creative', 'art', 'competition'],
   418â†’tags: ['location', 'travel', 'landmark'],
   419â†’tags: ['challenge', 'physical', 'fitness'],
   420â†’tags: ['food', 'cooking', 'restaurant'],
   421â†’```
   422â†’
   423â†’---
   424â†’
   425â†’## ğŸ“‹ Complete Bounty Examples
   426â†’
   427â†’### Example 1: First-Valid Location Check-in
   428â†’
   429â†’```typescript
   430â†’'timesSquareCheckin': {
   431â†’  id: 'times-square-checkin',
   432â†’  name: 'ğŸ“ Times Square Check-In',
   433â†’  description: 'Prove you are at Times Square right now! First valid photo wins.',
   434â†’  requirements: `
   435â†’    Submit a photo proving you're at Times Square, NYC.
   436â†’
   437â†’    Requirements:
   438â†’    1. Photo must be taken within the last 30 minutes
   439â†’    2. Must show recognizable Times Square elements (billboards, crowds, etc.)
   440â†’    3. Must have valid EXIF/GPS data
   441â†’    4. No screenshots or AI-generated images
   442â†’
   443â†’    First valid submission wins instantly!
   444â†’  `.trim(),
   445â†’  proofType: ProofType.PHOTO,
   446â†’  selectionMode: SelectionMode.FIRST_VALID,
   447â†’  rewardEth: '0.01',
   448â†’  deadline: deadlineFromNow(24),
   449â†’  validation: {
   450â†’    requireExif: true,
   451â†’    maxAgeMinutes: 30,
   452â†’    rejectScreenshots: true,
   453â†’    rejectAIGenerated: true,
   454â†’    location: {
   455â†’      latitude: 40.7580,
   456â†’      longitude: -73.9855,
   457â†’      radiusMeters: 200,
   458â†’      description: 'Times Square, NYC',
   459â†’    },
   460â†’    aiValidationPrompt: `
   461â†’      Verify this photo was taken at Times Square, NYC.
   462â†’      Look for: bright billboards, crowded streets, iconic signage.
   463â†’      The photo must clearly show Times Square elements.
   464â†’    `.trim(),
   465â†’  },
   466â†’  tags: ['location', 'nyc', 'check-in', 'first-valid'],
   467â†’},
   468â†’```
   469â†’
   470â†’### Example 2: AI-Judged Creative Contest
   471â†’
   472â†’```typescript
   473â†’'sunsetContest': {
   474â†’  id: 'sunset-photo-contest',
   475â†’  name: 'ğŸŒ… Best Sunset Photo Contest',
   476â†’  description: 'Capture the most beautiful sunset. AI judges the winner after 48 hours!',
   477â†’  requirements: `
   478â†’    Submit your best sunset photograph.
   479â†’
   480â†’    Rules:
   481â†’    1. Must be a REAL photo taken by you (no AI-generated images)
   482â†’    2. Photo must be taken within the last 7 days
   483â†’    3. No heavy filters or digital manipulation
   484â†’    4. Horizon and sun/sky must be clearly visible
   485â†’
   486â†’    Judging Criteria:
   487â†’    - Color composition (40%)
   488â†’    - Overall beauty/impact (35%)
   489â†’    - Technical quality (25%)
   490â†’
   491â†’    All submissions collected for 48 hours, then AI picks the winner!
   492â†’  `.trim(),
   493â†’  proofType: ProofType.PHOTO,
   494â†’  selectionMode: SelectionMode.AI_JUDGED,
   495â†’  rewardEth: '0.025',
   496â†’  deadline: deadlineFromNow(48),
   497â†’  validation: {
   498â†’    requireExif: true,
   499â†’    maxAgeMinutes: 10080, // 7 days
   500â†’    rejectScreenshots: true,
   501â†’    rejectAIGenerated: true,
   502â†’    minAIConfidence: 60,
   503â†’    aiValidationPrompt: `
   504â†’      Judge this sunset photograph for a contest.
   505â†’
   506â†’      Score on these criteria (total 100 points):
   507â†’      1. COLOR COMPOSITION (0-40): Richness of colors, gradient quality, contrast between sky elements
   508â†’      2. BEAUTY/IMPACT (0-35): Overall aesthetic appeal, emotional impact, memorable quality
   509â†’      3. TECHNICAL QUALITY (0-25): Sharpness, proper exposure, good framing/composition
   510â†’
   511â†’      Disqualify (score 0) if:
   512â†’      - Image appears AI-generated (look for artifacts, unnatural elements)
   513â†’      - No visible sunset or sky
   514â†’      - Heavily filtered or obviously manipulated
   515â†’      - Screenshot of another image
   516â†’
   517â†’      Provide detailed reasoning for each score component.
   518â†’    `.trim(),
   519â†’  },
   520â†’  tags: ['contest', 'sunset', 'photography', 'ai-judged', 'creative'],
   521â†’},
   522â†’```
   523â†’
   524â†’### Example 3: Physical Challenge
   525â†’
   526â†’```typescript
   527â†’'pushupChallenge': {
   528â†’  id: 'pushup-video-challenge',
   529â†’  name: 'ğŸ’ª 10 Pushup Challenge',
   530â†’  description: 'Record yourself doing 10 pushups with good form. AI judges the best technique!',
   531â†’  requirements: `
   532â†’    Submit a video of yourself doing 10 pushups.
   533â†’
   534â†’    Requirements:
   535â†’    1. Full body must be visible in frame
   536â†’    2. Must complete all 10 pushups
   537â†’    3. Good form required (chest to ground, full arm extension)
   538â†’    4. Video must be recorded within the last hour
   539â†’    5. No editing or splicing
   540â†’
   541â†’    AI will judge based on form, consistency, and effort.
   542â†’  `.trim(),
   543â†’  proofType: ProofType.VIDEO,
   544â†’  selectionMode: SelectionMode.AI_JUDGED,
   545â†’  rewardEth: '0.015',
   546â†’  deadline: deadlineFromNow(72),
   547â†’  validation: {
   548â†’    requireExif: true,
   549â†’    maxAgeMinutes: 60,
   550â†’    rejectScreenshots: true,
   551â†’    rejectAIGenerated: true,
   552â†’    aiValidationPrompt: `
   553â†’      Evaluate this pushup video submission.
   554â†’
   555â†’      Verify:
   556â†’      1. Person completes 10 full pushups
   557â†’      2. Good form (chest near ground, full extension at top)
   558â†’      3. Continuous video (no cuts or edits)
   559â†’      4. Full body visible
   560â†’
   561â†’      Score on:
   562â†’      - FORM (0-50): Proper technique, consistency
   563â†’      - EFFORT (0-30): Smooth execution, controlled movement
   564â†’      - PRESENTATION (0-20): Clear video, good angle
   565â†’
   566â†’      Reject if pushups are incomplete or form is dangerously bad.
   567â†’    `.trim(),
   568â†’  },
   569â†’  tags: ['fitness', 'challenge', 'video', 'physical'],
   570â†’},
   571â†’```
   572â†’
   573â†’### Example 4: Handwritten Note (Simple First-Valid)
   574â†’
   575â†’```typescript
   576â†’'handwrittenPoidh': {
   577â†’  id: 'handwritten-poidh',
   578â†’  name: 'ğŸ“ Handwritten POIDH Note',
   579â†’  description: 'Write "POIDH" and today\'s date on paper. First valid submission wins!',
   580â†’  requirements: `
   581â†’    Submit a photo showing:
   582â†’    1. A handwritten note on paper
   583â†’    2. The word "POIDH" clearly written
   584â†’    3. Today's date in any format
   585â†’    4. Must be your own handwriting (not printed)
   586â†’
   587â†’    Photo must be taken fresh (within 30 minutes).
   588â†’    First valid submission wins immediately!
   589â†’  `.trim(),
   590â†’  proofType: ProofType.PHOTO,
   591â†’  selectionMode: SelectionMode.FIRST_VALID,
   592â†’  rewardEth: '0.002',
   593â†’  deadline: deadlineFromNow(12),
   594â†’  validation: {
   595â†’    requireExif: true,
   596â†’    maxAgeMinutes: 30,
   597â†’    rejectScreenshots: true,
   598â†’    rejectAIGenerated: true,
   599â†’    aiValidationPrompt: `
   600â†’      Verify this image shows a handwritten note with:
   601â†’      1. The word "POIDH" clearly written by hand
   602â†’      2. Today's date written on the same paper
   603â†’      3. Appears to be genuine handwriting (not typed/printed)
   604â†’      4. Paper and writing are clearly visible
   605â†’
   606â†’      Mark as VALID only if ALL criteria are met.
   607â†’    `.trim(),
   608â†’  },
   609â†’  tags: ['simple', 'handwritten', 'first-valid', 'quick'],
   610â†’},
   611â†’```
   612â†’
   613â†’### Example 5: Pet Photo Contest
   614â†’
   615â†’```typescript
   616â†’'petPhotoContest': {
   617â†’  id: 'cutest-pet-contest',
   618â†’  name: 'ğŸ¾ Cutest Pet Photo Contest',
   619â†’  description: 'Share a photo of your pet! AI will pick the cutest one.',
   620â†’  requirements: `
   621â†’    Submit a photo of your pet.
   622â†’
   623â†’    Rules:
   624â†’    1. Must be YOUR pet (not a random animal)
   625â†’    2. Pet must be clearly visible and in focus
   626â†’    3. Photo taken within the last 24 hours
   627â†’    4. Any type of pet welcome (dogs, cats, birds, fish, etc.)
   628â†’
   629â†’    AI judges on cuteness, photo quality, and personality captured.
   630â†’  `.trim(),
   631â†’  proofType: ProofType.PHOTO,
   632â†’  selectionMode: SelectionMode.AI_JUDGED,
   633â†’  rewardEth: '0.01',
   634â†’  deadline: deadlineFromNow(72),
   635â†’  validation: {
   636â†’    requireExif: true,
   637â†’    maxAgeMinutes: 1440, // 24 hours
   638â†’    rejectScreenshots: true,
   639â†’    rejectAIGenerated: true,
   640â†’    minAIConfidence: 50,
   641â†’    aiValidationPrompt: `
   642â†’      Judge this pet photo for a "Cutest Pet" contest.
   643â†’
   644â†’      Score on (total 100 points):
   645â†’      1. CUTENESS (0-50): How adorable is the pet? Expression, pose, appeal
   646â†’      2. PHOTO QUALITY (0-30): Focus, lighting, composition
   647â†’      3. PERSONALITY (0-20): Does the photo capture the pet's character?
   648â†’
   649â†’      Any type of pet is valid (dogs, cats, birds, reptiles, fish, etc.)
   650â†’
   651â†’      Reject if:
   652â†’      - No animal visible
   653â†’      - AI-generated image
   654â†’      - Stock photo or screenshot
   655â†’    `.trim(),
   656â†’  },
   657â†’  tags: ['pets', 'animals', 'contest', 'cute', 'ai-judged'],
   658â†’},
   659â†’```
   660â†’
   661â†’---
   662â†’
   663â†’## Production Bounty Templates (Built-in)
   664â†’
   665â†’The bot includes 6 ready-to-use bounty configurations:
   666â†’
   667â†’### First-Valid Bounties (instant winner)
   668â†’
   669â†’| Bounty | Command | Reward | Duration | Description |
   670â†’|--------|---------|--------|----------|-------------|
   671â†’| Prove Outside | `npm run agent:outside` | 0.003 ETH | 24h | Photo proving you're outdoors |
   672â†’| Pet Photo | `npm run agent:pet` | 0.003 ETH | 48h | Photo of your pet |
   673â†’| Coffee/Drink | `npm run agent:coffee` | 0.002 ETH | 24h | Photo of your coffee or drink |
   674â†’
   675â†’### AI-Judged Bounties (GPT-4 Vision picks winner)
   676â†’
   677â†’| Bounty | Command | Reward | Duration | Description |
   678â†’|--------|---------|--------|----------|-------------|
   679â†’| Object Tower | `npm run agent:tower` | 0.005 ETH | 48h | Most creative stack of objects |
   680â†’| Sunset Photo | `npm run agent:sunset` | 0.004 ETH | 72h | Best sunset/sunrise photo |
   681â†’| Street Art | `npm run agent:street-art` | 0.004 ETH | 72h | Best street art photo |
   682â†’
   683â†’---
   684â†’
   685â†’## Winner Selection Logic
   686â†’
   687â†’### First-Valid Mode
   688â†’
   689â†’```typescript
   690â†’// Validation checks run in order:
   691â†’1. Proof Content     - Does submission have retrievable content?
   692â†’2. Media URL         - Is there a valid image/video URL?
   693â†’3. EXIF Data         - Does photo have camera metadata?
   694â†’4. Photo Freshness   - Was photo taken within time limit?
   695â†’5. Screenshot Check  - Is this NOT a screenshot?
   696â†’6. AI-Generated Check - Is this NOT AI-generated?
   697â†’7. Location (if req) - Is photo within required radius?
   698â†’8. AI Validation     - Does AI confirm requirements met?
   699â†’
   700â†’// FIRST submission passing ALL checks wins immediately
   701â†’// Payout triggered automatically - no human review
   702â†’```
   703â†’
   704â†’### AI-Judged Mode
   705â†’
   706â†’```typescript
   707â†’// After deadline:
   708â†’1. Filter valid submissions (pass basic checks)
   709â†’2. Send all valid images to GPT-4 Vision
   710â†’3. AI scores each 0-100 based on your criteria
   711â†’4. Highest score wins
   712â†’5. Detailed rationale logged
   713â†’6. Payout triggered automatically
   714â†’```
   715â†’
   716â†’---
   717â†’
   718â†’## Transparent Decision Making
   719â†’
   720â†’Every winner selection includes detailed rationale:
   721â†’
   722â†’```
   723â†’â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
   724â†’â•‘                           ğŸ† WINNER ANNOUNCED ğŸ†                              â•‘
   725â†’â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   726â†’â•‘                                                                              â•‘
   727â†’â•‘  Bounty: Best Sunset Photo Contest                                           â•‘
   728â†’â•‘  Winner: 0x1234...abcd                                                       â•‘
   729â†’â•‘  Reward: 0.025 ETH                                                           â•‘
   730â†’â•‘  Selection: AI Judged (GPT-4 Vision)                                         â•‘
   731â†’â•‘  Score: 87/100                                                               â•‘
   732â†’â•‘  Payout TX: 0xabcd...1234                                                    â•‘
   733â†’â•‘                                                                              â•‘
   734â†’â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   735â†’â•‘  AI RATIONALE:                                                               â•‘
   736â†’â•‘                                                                              â•‘
   737â†’â•‘  Color Composition (36/40):                                                  â•‘
   738â†’â•‘  Stunning gradient from deep orange to purple. Rich, saturated colors       â•‘
   739â†’â•‘  with excellent contrast between the sun and surrounding sky.               â•‘
   740â†’â•‘                                                                              â•‘
   741â†’â•‘  Beauty/Impact (32/35):                                                      â•‘
   742â†’â•‘  Breathtaking composition with silhouetted trees adding depth.              â•‘
   743â†’â•‘  Evokes strong emotional response.                                          â•‘
   744â†’â•‘                                                                              â•‘
   745â†’â•‘  Technical Quality (19/25):                                                  â•‘
   746â†’â•‘  Sharp focus, good exposure. Minor noise in shadow areas.                   â•‘
   747â†’â•‘                                                                              â•‘
   748â†’â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
   749â†’â•‘  âœ… Payment executed autonomously - no human intervention                    â•‘
   750â†’â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   751â†’```
   752â†’
   753â†’---
   754â†’
   755â†’## POIDH V3 Contract Integration
   756â†’
   757â†’This bot integrates with **POIDH V3** on Base Mainnet:
   758â†’
   759â†’- **Contract**: `0x5555Fa783936C260f77385b4E153B9725feF1719`
   760â†’- **Chain**: Base Mainnet (Chain ID: 8453)
   761â†’- **Fee**: 2.5% (250 BPS)
   762â†’- **Payment Pattern**: Pull-based (`withdraw()` function)
   763â†’
   764â†’### Key Contract Functions Used
   765â†’
   766â†’```typescript
   767â†’// Create bounty
   768â†’createSoloBounty(name, description) + { value: rewardWei }
   769â†’
   770â†’// Accept winning claim (triggers payout)
   771â†’acceptClaim(bountyId, claimId)
   772â†’
   773â†’// Monitor claims
   774â†’getBountyClaims(bountyId) â†’ Claim[]
   775â†’
   776â†’// Withdraw winnings (for winners)
   777â†’withdraw()
   778â†’```
   779â†’
   780â†’---
   781â†’
   782â†’## Environment Variables
   783â†’
   784â†’```bash
   785â†’# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   786â†’# REQUIRED
   787â†’# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   788â†’
   789â†’# Bot's private key (with 0x prefix)
   790â†’PRIVATE_KEY=0x...
   791â†’
   792â†’# RPC endpoint for Base Mainnet
   793â†’RPC_URL=https://mainnet.base.org
   794â†’
   795â†’# OpenAI API key for AI-judged bounties
   796â†’OPENAI_API_KEY=sk-...
   797â†’
   798â†’# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   799â†’# OPTIONAL
   800â†’# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   801â†’
   802â†’# Polling interval in milliseconds (default: 30000 = 30 seconds)
   803â†’POLL_INTERVAL=30000
   804â†’
   805â†’# OpenAI model for vision (default: gpt-4o)
   806â†’OPENAI_VISION_MODEL=gpt-4o
   807â†’
   808â†’# Log level (debug, info, warn, error)
   809â†’LOG_LEVEL=info
   810â†’```
   811â†’
   812â†’---
   813â†’
   814â†’## NPM Scripts
   815â†’
   816â†’```bash
   817â†’# Build
   818â†’npm run build              # Compile TypeScript
   819â†’
   820â†’# Production Bounty Commands
   821â†’npm run agent:outside      # Launch "prove outside" bounty
   822â†’npm run agent:tower        # Launch "object tower" bounty (AI-judged)
   823â†’npm run agent:pet          # Launch "pet photo" bounty
   824â†’npm run agent:sunset       # Launch "sunset photo" bounty (AI-judged)
   825â†’npm run agent:street-art   # Launch "street art" bounty (AI-judged)
   826â†’npm run agent:coffee       # Launch "coffee/drink" bounty
   827â†’
   828â†’# Demos
   829â†’npm run demo:first-valid   # Demo first-valid selection
   830â†’npm run demo:ai-judged     # Demo AI-judged selection
   831â†’
   832â†’# Development
   833â†’npm run dev                # Run in development mode
   834â†’npm run typecheck          # TypeScript type checking
   835â†’```
   836â†’
   837â†’---
   838â†’
   839â†’## Architecture
   840â†’
   841â†’```
   842â†’autonomous-bounty-bot/
   843â†’â”œâ”€â”€ src/
   844â†’â”‚   â”œâ”€â”€ agent.ts                    # Main orchestration + CLI entry point
   845â†’â”‚   â”‚
   846â†’â”‚   â”œâ”€â”€ wallet/
   847â†’â”‚   â”‚   â””â”€â”€ index.ts                # Bot wallet management
   848â†’â”‚   â”‚
   849â†’â”‚   â”œâ”€â”€ contracts/
   850â†’â”‚   â”‚   â”œâ”€â”€ abis.ts                 # POIDH V3 ABI definitions
   851â†’â”‚   â”‚   â””â”€â”€ poidh.ts                # Contract interaction layer
   852â†’â”‚   â”‚
   853â†’â”‚   â”œâ”€â”€ bounty/
   854â†’â”‚   â”‚   â”œâ”€â”€ types.ts                # Type definitions
   855â†’â”‚   â”‚   â”œâ”€â”€ templates.ts            # Bounty template functions
   856â†’â”‚   â”‚   â”œâ”€â”€ manager.ts              # Bounty lifecycle management
   857â†’â”‚   â”‚   â”œâ”€â”€ monitor.ts              # Blockchain polling
   858â†’â”‚   â”‚   â””â”€â”€ configs/
   859â†’â”‚   â”‚       â””â”€â”€ production-bounties.ts  # Production bounty configs
   860â†’â”‚   â”‚
   861â†’â”‚   â”œâ”€â”€ evaluation/
   862â†’â”‚   â”‚   â”œâ”€â”€ index.ts                # Evaluation engine
   863â†’â”‚   â”‚   â”œâ”€â”€ validator.ts            # Deterministic validation
   864â†’â”‚   â”‚   â””â”€â”€ ai-judge.ts             # GPT-4 Vision integration
   865â†’â”‚   â”‚
   866â†’â”‚   â”œâ”€â”€ config/
   867â†’â”‚   â”‚   â””â”€â”€ index.ts                # Environment configuration
   868â†’â”‚   â”‚
   869â†’â”‚   â””â”€â”€ utils/
   870â†’â”‚       â””â”€â”€ logger.ts               # Structured logging
   871â†’â”‚
   872â†’â”œâ”€â”€ .env.example                    # Environment template
   873â†’â”œâ”€â”€ package.json                    # Scripts and dependencies
   874â†’â””â”€â”€ README.md                       # This file
   875â†’```
   876â†’
   877â†’---
   878â†’
   879â†’## Troubleshooting
   880â†’
   881â†’### "Insufficient balance" Error
   882â†’
   883â†’Your bot wallet needs ETH for gas fees and bounty rewards.
   884â†’
   885â†’```bash
   886â†’# Check your wallet balance
   887â†’# Send Base ETH to the address shown in logs
   888â†’```
   889â†’
   890â†’### "Cannot find module" Error
   891â†’
   892â†’Dependencies not installed or not built:
   893â†’
   894â†’```bash
   895â†’npm install
   896â†’npm run build
   897â†’```
   898â†’
   899â†’### "Contract call failed" Error
   900â†’
   901â†’Verify you're on the correct network (Base Mainnet, Chain ID 8453).
   902â†’
   903â†’### OpenAI Rate Limit
   904â†’
   905â†’For AI-judged bounties with many submissions, you may hit rate limits. The bot includes automatic delays between API calls.
   906â†’
   907â†’### No Submissions Appearing
   908â†’
   909â†’- Verify the bounty was created successfully (check the tx hash)
   910â†’- Confirm the bounty appears on https://poidh.xyz/base/bounty/[ID]
   911â†’- Check that the deadline hasn't passed
   912â†’
   913â†’---
   914â†’
   915â†’## Security Considerations
   916â†’
   917â†’- **Private Key**: Never commit your `.env` file
   918â†’- **Wallet Funding**: Only fund with what you're willing to use
   919â†’- **RPC Security**: Use authenticated RPC endpoints for production
   920â†’- **Contract Verification**: Always verify contract addresses
   921â†’
   922â†’---
   923â†’
   924â†’## License
   925â†’
   926â†’MIT License - See [LICENSE](LICENSE) for details.
   927â†’
   928â†’---
   929â†’
   930â†’**Built for the poidh autonomous bounty challenge.**
   931â†’
   932â†’ğŸ¤– This bot operates fully autonomously after initialization - no human intervention required.
   933â†’
