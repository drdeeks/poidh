# ═══════════════════════════════════════════════════════════════════════════════
# POIDH AUTONOMOUS BOUNTY BOT - COMPLETE ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values
# ⚠️  NEVER commit the actual .env file to git!
#
# To generate a wallet: npm run wallet:create
# To check balance: npm run wallet:balance
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# 🔑 REQUIRED VARIABLES (Bot will not run without these)
# ═══════════════════════════════════════════════════════════════════════════════

# Bot's Private Key (256-bit hex string starting with 0x)
# Generate with: npm run wallet:create
# This controls your bot's wallet and all cryptocurrencies it manages
# ⚠️  CRITICAL: Never share this key or commit it to git!
# Example: 0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
BOT_PRIVATE_KEY=0x_your_private_key_here

# RPC Endpoint URL for Blockchain
# This is how the bot connects to the blockchain network
# The RPC must match your CHAIN_ID
# Mainnet (recommended): https://rpc.degen.tips (for Degen)
# Other options: Alchemy, Infura, Ankr, QuickNode, etc.
# Example: https://degen.alt.technology/rpc
RPC_URL=https://rpc.degen.tips

# OpenAI API Key for GPT-4 Vision (AI-judged bounties only)
# Get from: https://platform.openai.com/api-keys
# Required only if using AI-judged bounties (BOUNTY_OBJECT_TOWER, etc.)
# Format: sk-[secret key]
OPENAI_API_KEY=sk-your_openai_api_key

# ═══════════════════════════════════════════════════════════════════════════════
# 🌐 BLOCKCHAIN CONFIGURATION - Select One Active Chain
# ═══════════════════════════════════════════════════════════════════════════════

# Primary Blockchain Network Chain ID (required)
# This is the main chain where bounties are created
# Choose ONE from below:
#
# 8453 = Base Mainnet (ETH) - POIDH Contract: 0x5555Fa783936C260f77385b4E153B9725feF1719
# 42161 = Arbitrum One (ETH) - POIDH Contract: 0x5555Fa783936C260f77385b4E153B9725feF1719
# 666666666 = Degen (DEGEN) - POIDH Contract: 0x18E5585ca7cE31b90Bc8BB7aAf84152857cE243f
# 84532 = Base Sepolia Testnet (ETH) - Contract: TBD
# 421614 = Arbitrum Sepolia Testnet (ETH) - Contract: TBD
# 1 = Ethereum Mainnet (ETH) - Contract: Not yet deployed
# 11155111 = Sepolia Testnet (ETH) - Contract: Not yet deployed
# 137 = Polygon (MATIC) - Contract: Not yet deployed
# 10 = Optimism (ETH) - Contract: Not yet deployed
#
CHAIN_ID=666666666

# POIDH V3 Smart Contract Addresses by Chain
# These are the contract addresses where bounties are stored
# Leave empty to use per-chain defaults from src/config/chains.ts
# Only set this if overriding the default contract address
#
# Base Mainnet (8453): 0x5555Fa783936C260f77385b4E153B9725feF1719
# Arbitrum One (42161): 0x5555Fa783936C260f77385b4E153B9725feF1719
# Degen (666666666): 0x18E5585ca7cE31b90Bc8BB7aAf84152857cE243f
# Base Sepolia (84532): TBD (deploy address when available)
# Arbitrum Sepolia (421614): TBD (deploy address when available)
#
POIDH_CONTRACT_ADDRESS=

# ═══════════════════════════════════════════════════════════════════════════════
# 🔀 MULTI-CHAIN CONFIGURATION - Support Multiple Chains
# ═══════════════════════════════════════════════════════════════════════════════

# Supported Chains (comma-separated chain IDs, optional)
# If not set, only CHAIN_ID is used
# If set, bot can switch between these chains
# Example: 8453,42161,666666666 = Base + Arbitrum + Degen
# Example: 8453,84532 = Base Mainnet + Base Sepolia (testnet)
#
# The bot will only operate on chains where:
#   1. The chain ID is in SUPPORTED_CHAINS
#   2. The chain is enabled in src/config/chains.ts
#   3. POIDH contract is deployed on the chain
#   4. The chain is properly configured with RPC URL
#
SUPPORTED_CHAINS=8453,42161,666666666

# RPC URLs by Chain (optional overrides)
# If not set, defaults from src/config/chains.ts are used
# Use these to override the default RPC for any chain

# Base Mainnet RPC (8453)
BASE_RPC_URL=https://mainnet.base.org
# Alternatives:
# BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_ALCHEMY_KEY
# BASE_RPC_URL=https://base-mainnet.infura.io/v3/YOUR_INFURA_KEY

# Base Sepolia RPC (84532) - Testnet
BASE_SEPOLIA_RPC_URL=https://sepolia.base.org
# BASE_SEPOLIA_RPC_URL=https://base-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Arbitrum One RPC (42161)
ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
# Alternatives:
# ARBITRUM_RPC_URL=https://arbitrum-mainnet.infura.io/v3/YOUR_INFURA_KEY
# ARBITRUM_RPC_URL=https://arbitrum-one.g.alchemy.com/v2/YOUR_ALCHEMY_KEY

# Arbitrum Sepolia RPC (421614) - Testnet
ARBITRUM_SEPOLIA_RPC_URL=https://sepolia-rollup.arbitrum.io/rpc
# ARBITRUM_SEPOLIA_RPC_URL=https://arbitrum-sepolia.infura.io/v3/YOUR_INFURA_KEY

# Degen RPC (666666666)
DEGEN_RPC_URL=https://rpc.degen.tips
# Alternative:
# DEGEN_RPC_URL=https://degen.alt.technology/rpc

# Ethereum Mainnet RPC (1) - Future
# ETHEREUM_RPC_URL=https://mainnet.infura.io/v3/YOUR_INFURA_KEY
# ETHEREUM_RPC_URL=https://eth.public.com

# Sepolia Testnet RPC (11155111) - Future
# SEPOLIA_RPC_URL=https://sepolia.infura.io/v3/YOUR_INFURA_KEY

# Polygon RPC (137) - Future
# POLYGON_RPC_URL=https://polygon-rpc.com
# POLYGON_RPC_URL=https://polygon-mainnet.infura.io/v3/YOUR_INFURA_KEY

# Optimism RPC (10) - Future
# OPTIMISM_RPC_URL=https://mainnet.optimism.io
# OPTIMISM_RPC_URL=https://optimism-mainnet.infura.io/v3/YOUR_INFURA_KEY

# ═══════════════════════════════════════════════════════════════════════════════
# 🎨 BOUNTY & AI CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# OpenAI Vision Model for AI-Judged Bounties
# Which GPT model to use for image evaluation
# Options: 
#   gpt-4o = Latest, fastest, cheapest (recommended)
#   gpt-4-turbo = More capable but slower/expensive
# Default: gpt-4o
OPENAI_VISION_MODEL=gpt-4o

# Temperature for AI Evaluation
# Controls randomness of AI responses (0.0 = deterministic, 1.0 = creative)
# Default: 0.3 (low randomness for consistent scoring)
OPENAI_TEMPERATURE=0.3

# ═══════════════════════════════════════════════════════════════════════════════
# ⏱️  POLLING & TRANSACTION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Polling Interval (seconds)
# How often the bot checks for new submissions on the blockchain
# Range: 5-300 seconds
#   5s = More responsive but more RPC calls (higher cost)
#   30s = Balanced (default)
#   300s = Very efficient but slower submission detection
# Default: 30 seconds
POLLING_INTERVAL=30

# Maximum Gas Price (gwei)
# Bot will not execute transactions if gas price exceeds this value
# If gas price exceeds this, transaction is skipped and retried later
# Typical gas prices:
#   0.05-0.1 gwei = Base/Arbitrum (very cheap)
#   0.001-0.01 gwei = Degen (extremely cheap)
# Set high (100) for guaranteed transactions
# Set low (5) to save costs and skip expensive periods
# Default: 50 gwei
MAX_GAS_PRICE_GWEI=50

# Auto-Approve Gas Spending
# If true: Bot executes transactions automatically when conditions met
# If false: Bot logs transactions but requires manual approval (not recommended)
# Recommendation: Keep as true for autonomous operation
# Default: true
AUTO_APPROVE_GAS=true

# ═══════════════════════════════════════════════════════════════════════════════
# 📊 LOGGING CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Log Level
# Controls verbosity of console and file output
# Options: debug, info, warn, error
#   debug = Very detailed, shows all operations (development only)
#   info = Normal operation details (recommended for production)
#   warn = Only warnings and errors
#   error = Only errors
# Default: info
LOG_LEVEL=info

# Log File Path
# Where to write application logs
# Logs are written to both console and this file
# Default: ./logs/bot.log
LOG_FILE=./logs/bot.log

# ═══════════════════════════════════════════════════════════════════════════════
# 🌐 STREAMING SERVER & DASHBOARD CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Streaming Server Port
# Port where the web dashboard is accessible
# Open browser to: http://localhost:STREAMING_PORT
# Default: 3001
STREAMING_PORT=3001

# Streaming Poll Interval (seconds)
# How often the streaming server checks for new audit trail entries
# Range: 1-60 seconds
#   1-5s = Real-time, more responsive, more CPU usage
#   30s = Balanced
#   60s = Very efficient, less responsive
# Default: 5 seconds
POLL_INTERVAL=5

# ═══════════════════════════════════════════════════════════════════════════════
# 🧪 TESTING & SIMULATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Demo Mode (no real transactions)
# If true: Bot simulates everything without spending real ETH/DEGEN
# If false: Bot creates real bounties and pays real rewards
# Useful for testing before production
# Default: false
DEMO_MODE=false

# ═══════════════════════════════════════════════════════════════════════════════
# 🔧 ADVANCED CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Node Environment
# Set to 'production' on cloud servers
# Set to 'development' for local testing
# Default: development
NODE_ENV=development

# ═══════════════════════════════════════════════════════════════════════════════
# 📋 QUICK REFERENCE - CHAIN DETAILS
# ═══════════════════════════════════════════════════════════════════════════════
#
# BASE MAINNET (8453)
# ├─ Currency: ETH
# ├─ Contract: 0x5555Fa783936C260f77385b4E153B9725feF1719
# ├─ RPC: https://mainnet.base.org
# ├─ Explorer: https://basescan.org
# └─ Status: ✅ Active, POIDH deployed
#
# ARBITRUM ONE (42161)
# ├─ Currency: ETH
# ├─ Contract: 0x5555Fa783936C260f77385b4E153B9725feF1719
# ├─ RPC: https://arb1.arbitrum.io/rpc
# ├─ Explorer: https://arbiscan.io
# └─ Status: ✅ Active, POIDH deployed
#
# DEGEN (666666666)
# ├─ Currency: DEGEN
# ├─ Contract: 0x18E5585ca7cE31b90Bc8BB7aAf84152857cE243f
# ├─ RPC: https://rpc.degen.tips
# ├─ Explorer: https://explorer.degen.tips
# └─ Status: ✅ Active, POIDH deployed
#
# BASE SEPOLIA (84532) - TESTNET
# ├─ Currency: ETH
# ├─ Contract: TBD (not yet deployed)
# ├─ RPC: https://sepolia.base.org
# ├─ Explorer: https://sepolia.basescan.org
# └─ Status: ⚠️  Testing only, contract pending
#
# ═══════════════════════════════════════════════════════════════════════════════
# 📝 SETUP INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════════════════════
#
# STEP 1: GENERATE WALLET
#
#   npm run wallet:create
#
#   This creates a new wallet and shows:
#   - Address (where you send funds)
#   - Private Key (goes in BOT_PRIVATE_KEY below)
#   - Keep the private key safe!
#
# ───────────────────────────────────────────────────────────────────────────────
#
# STEP 2: SET REQUIRED VARIABLES
#
#   Uncomment and fill in:
#   - BOT_PRIVATE_KEY (from Step 1)
#   - RPC_URL (keep default or use your own RPC)
#   - OPENAI_API_KEY (if using AI-judged bounties, optional)
#   - CHAIN_ID (keep 666666666 for Degen, or change to 8453 for Base, 42161 for Arbitrum)
#   - POIDH_CONTRACT_ADDRESS (usually leave empty for defaults)
#
# ───────────────────────────────────────────────────────────────────────────────
#
# STEP 3: FUND WALLET
#
#   npm run wallet:balance
#
#   This shows your wallet address
#   Send funds:
#   - Degen: Send 50+ DEGEN to address
#   - Base: Send 0.01+ ETH to address
#   - Arbitrum: Send 0.01+ ETH to address
#
# ───────────────────────────────────────────────────────────────────────────────
#
# STEP 4: TEST (Optional, highly recommended)
#
#   npm run demo:simulate
#
#   This runs a full demo without real transactions
#   Tests your setup and shows how the bot works
#
# ───────────────────────────────────────────────────────────────────────────────
#
# STEP 5: RUN BOT
#
#   npm run agent
#
#   Interactive mode: Select chain and bounty type
#   Or with flags:
#   npm run agent:meal --chain degen --reward 50
#
# ───────────────────────────────────────────────────────────────────────────────
#
# STEP 6: MONITOR (Optional)
#
#   In another terminal:
#   npm run server:stream
#
#   Open: http://localhost:3001
#   Watch live activity on the dashboard
#
# ═══════════════════════════════════════════════════════════════════════════════
# 🔐 SECURITY CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════════
#
# BEFORE RUNNING IN PRODUCTION:
#
# ✓ Never commit .env to git
# ✓ Never share BOT_PRIVATE_KEY with anyone
# ✓ Use different keys for testnet and mainnet
# ✓ Only fund bot wallet with what you plan to distribute as bounties
# ✓ Rotate API keys (OpenAI) every 30 days
# ✓ Monitor bot wallet transactions regularly on block explorer
# ✓ Use HTTPS in production (reverse proxy for dashboard)
# ✓ Store .env securely (cloud provider secrets, not version control)
# ✓ Set MAX_GAS_PRICE_GWEI to prevent overspending
# ✓ Back up logs/ directory regularly
# ✓ Verify audit trail integrity periodically
# ✓ Test with demo mode first: DEMO_MODE=true npm run agent
#
# ═══════════════════════════════════════════════════════════════════════════════
# 📚 ADDITIONAL HELP
# ═══════════════════════════════════════════════════════════════════════════════
#
# View full README:
#   cat README.md
#
# Check wallet:
#   npm run wallet:balance
#
# List all bounties:
#   npm run bounty:list
#
# View audit trail:
#   cat logs/audit-trail.txt
#
# View logs:
#   tail -f logs/bot.log
#
# Common issues:
#   See README.md > Troubleshooting section
#
# ═══════════════════════════════════════════════════════════════════════════════
