# ═══════════════════════════════════════════════════════════════════════════════
# AUTONOMOUS BOUNTY BOT - ENVIRONMENT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values
# NEVER commit the actual .env file to git!
#
# To generate a wallet: npm run wallet:create
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# REQUIRED VARIABLES (Bot will not run without these)
# ═══════════════════════════════════════════════════════════════════════════════

# Bot's Private Key (256-bit hex string starting with 0x)
# Generate with: npm run wallet:create
# This controls your bot's wallet and all ETH it manages
# ⚠️  CRITICAL: Never share this key or commit it to git!
# Example: 0x1234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef
BOT_PRIVATE_KEY=0x_your_private_key_here

# RPC Endpoint URL for Base Blockchain
# This is how the bot connects to the Base network
# Mainnet (recommended): https://mainnet.base.org
# Testnet: https://sepolia.base.org
# You can also use: Alchemy, Infura, Ankr, QuickNode, etc.
# Example with QuickNode: https://base-mainnet.g.alchemy.com/v2/YOUR_KEY
RPC_URL=https://mainnet.base.org

# OpenAI API Key for GPT-4 Vision (AI-judged bounties)
# Get from: https://platform.openai.com/api-keys
# Required only if using AI-judged bounties
# Format: sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_KEY=sk-your_openai_api_key

# ═══════════════════════════════════════════════════════════════════════════════
# BLOCKCHAIN CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# POIDH V3 Smart Contract Address on Base
# Base Mainnet: 0x5555Fa783936C260f77385b4E153B9725feF1719
# This is where bounties are created and managed
POIDH_CONTRACT_ADDRESS=0x5555Fa783936C260f77385b4E153B9725feF1719

# Blockchain Network Chain ID
# Base Mainnet: 8453
# Base Sepolia (testnet): 84532
CHAIN_ID=8453

# ═══════════════════════════════════════════════════════════════════════════════
# OPTIONAL VARIABLES (defaults provided if not set)
# ═══════════════════════════════════════════════════════════════════════════════

# Polling Interval (seconds)
# How often the bot checks for new submissions on the blockchain
# Range: 5-300 seconds (5s = more responsive but more RPC calls, 300s = efficient)
# Default: 30 seconds
# Too short: More API calls, higher costs
# Too long: Slower submission detection
POLLING_INTERVAL=30

# Maximum Gas Price (gwei)
# Bot will not execute transactions if gas price exceeds this value
# Current Base gas: typically 0.05-0.1 gwei
# Set high if you want guaranteed transactions: 100
# Set low to save costs: 10
# Default: 50 gwei
MAX_GAS_PRICE_GWEI=50

# Auto-Approve Gas Spending
# If true: Bot executes transactions automatically
# If false: Bot logs transactions but requires manual approval (not recommended)
# Default: true (recommended for autonomous operation)
AUTO_APPROVE_GAS=true

# Demo Mode (no real transactions)
# If true: Bot simulates everything without spending real ETH
# If false: Bot creates real bounties and pays real ETH
# Useful for testing before production
# Default: false
DEMO_MODE=false

# Log Level
# Controls verbosity of console output
# Options: debug, info, warn, error
# debug: Very detailed, shows all operations (development only)
# info: Normal operation details (recommended)
# warn: Only warnings and errors
# error: Only errors
# Default: info
LOG_LEVEL=info

# Log File Path
# Where to write persistent logs
# Logs are also printed to console
# Default: ./logs/bot.log
LOG_FILE=./logs/bot.log

# OpenAI Vision Model
# Which GPT model to use for image evaluation in AI-judged bounties
# Options: gpt-4o (latest, faster, cheaper), gpt-4-turbo (more capable)
# Default: gpt-4o
# Note: Requires OPENAI_API_KEY to be set
OPENAI_VISION_MODEL=gpt-4o

# ═══════════════════════════════════════════════════════════════════════════════
# STREAMING SERVER VARIABLES (for web dashboard)
# ═══════════════════════════════════════════════════════════════════════════════

# Streaming Server Port
# Port where the web dashboard is accessible
# Cloud: Set to 3001 (or whatever your cloud provider uses)
# Local: 3001 is fine
# Access at: http://localhost:STREAMING_PORT
# Default: 3001
STREAMING_PORT=3001

# Streaming Poll Interval (seconds)
# How often the streaming server checks for new audit trail entries
# Range: 1-60 seconds
# Faster = more real-time updates, more CPU usage
# Slower = less responsive, more efficient
# Default: 5 seconds
POLL_INTERVAL=5

# ═══════════════════════════════════════════════════════════════════════════════
# ADVANCED VARIABLES (rarely needed, use defaults)
# ═══════════════════════════════════════════════════════════════════════════════

# Node Environment
# Set to 'production' on cloud servers
# Set to 'development' for local testing
# Default: development
NODE_ENV=development

# Alternative RPC URL formats (for backwards compatibility)
# You only need to set ONE of these, not all
# Precedence: RPC_URL > BASE_RPC_URL > BASE_MAINNET_RPC_URL > BASE_SEPOLIA_RPC_URL
# BASE_RPC_URL=https://mainnet.base.org
# BASE_MAINNET_RPC_URL=https://mainnet.base.org
# BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# Alternative Private Key Format (for backwards compatibility)
# You only need to set ONE: PRIVATE_KEY or BOT_PRIVATE_KEY
# PRIVATE_KEY=0x...

# ═══════════════════════════════════════════════════════════════════════════════
# SETUP INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════════════════════
#
# 1. GENERATE WALLET:
#    npm run wallet:create
#    This creates a new wallet and shows the private key
#
# 2. SET VARIABLES:
#    Uncomment and fill in the REQUIRED variables above:
#    - BOT_PRIVATE_KEY (from step 1)
#    - RPC_URL (keep default or use your own RPC)
#    - OPENAI_API_KEY (if using AI-judged bounties)
#    - POIDH_CONTRACT_ADDRESS (keep default for Base mainnet)
#    - CHAIN_ID (keep default for Base mainnet)
#
# 3. FUND WALLET:
#    npm run wallet:balance
#    Send ETH to the displayed address (at least 0.01 ETH to start)
#
# 4. TEST:
#    npm run demo:simulate
#    This runs a full demo without real transactions
#
# 5. RUN:
#    npm run bounty:continuous
#    Creates real bounties starting now!
#
# 6. MONITOR (optional):
#    In another terminal: npm run server:stream
#    Open: http://localhost:3001 to see dashboard
#
# ═══════════════════════════════════════════════════════════════════════════════
# SECURITY CHECKLIST
# ═══════════════════════════════════════════════════════════════════════════════
#
# ✓ Never commit .env to git
# ✓ Never share BOT_PRIVATE_KEY
# ✓ Use different keys for testnet and mainnet
# ✓ Only fund bot wallet with what you're willing to use for bounties
# ✓ Rotate API keys (OpenAI) monthly
# ✓ Monitor bot wallet transactions regularly
# ✓ Use HTTPS in production
# ✓ Store .env in secure location (cloud provider secrets, not version control)
#
# ═══════════════════════════════════════════════════════════════════════════════
# TROUBLESHOOTING
# ═══════════════════════════════════════════════════════════════════════════════
#
# "Missing required environment variable"
#  → Make sure BOT_PRIVATE_KEY, RPC_URL, OPENAI_API_KEY are set
#
# "Insufficient balance"
#  → Run: npm run wallet:balance
#  → Send more ETH to the displayed address
#
# "Invalid RPC URL"
#  → Check RPC_URL is correct and the service is online
#  → Try: curl $RPC_URL
#
# "Invalid OpenAI key"
#  → Generate new key at: https://platform.openai.com/api-keys
#  → Make sure it's not expired
#
# ═══════════════════════════════════════════════════════════════════════════════
